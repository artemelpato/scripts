#!/bin/sh
#
# В будущем можно выводить красивое имя через 
# nmcli -t -f GENERAL.CONNECTION device show $device_name

up="󰤨"
down="󰤮"
output=""

for device in /sys/class/net/*; do
    [ $(basename $device) = "lo" ] && continue

    device_status=$(cat $device/operstate)
    device_name=$(basename $device)

    [ $device_status = "up" ] && icon=$up || icon=$down

    connection=$(nmcli -t -f GENERAL.CONNECTION device show enp3s0 | awk -F ':' '{ print $2 }')
    output="$output $connection $icon"
done

echo $output
